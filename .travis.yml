branches:
  only:
  - master
language: node_js
node_js:
- '15.3'
sudo:
  required
cache:
  npm: true
before-script:
- npm add grunt
- npm add grunt-cli
- npm add typescript
- npm add grunt-ts
- npm install
script:
- grunt --gruntfile Gruntfile.cjs l4w-build-pipeline
after_success:
- bash post_build.sh
env:
  global:
    # Encrypted GitHub access token for Travis-CI.com
    # Can be generated with this command: travis encrypt --pro GH_TOKEN=<token>
    # Will be used by Travis to run post_build.sh, which push build output to branch "deploy" 
    secure: VF1KXE5BOny/RQ+3SUJFJpnQmCeGIdawVbqFozBVlNQs09Hl9RZ/HThj5fn5QowMEmMIIDTG4u8aGsJge8qNeqKccAxFTy8QLqOAPSBJ01Dq2fRPQaMLA+5z0wcGCRZiSVHYV58SSJm3qqQzGjymJmBcKvItebuyTugnPlCLD78ZYFp10TNyLQUz14wi3l2Rota3rDdjiqKH7TcQYbmXXFupEJcy/N4KiaMG34Ypk720ZVX6xP97WK8QdXt8aN8VxrRSmyePDoerpHlSqgSKWpZbT39/fwQHue6zyX+1p18XgSPpdQVqwgCKrdPPY2vcy5st1BuoUlU73cMEJ2EZ9SCh+YR/ElF+tljkrvS6WLZY0riLBzIA+Z1lMBezaRmFUWQMx9s3h19EAwvczQsA0rGuXJCBv/+byQYPnSVn8WEI4MoFsiEbj7P++OR+wkmnwWGIWCE0FIR5iRnGSFtnEyh/S1h7nO5ET6C6n5SMIYFT29MU7Pg/bmMvhVpC+fx6N52LrSvifIN9EgQXU5NWGQku9IjK2d9YZ5k0a692JlFbhFGrZEfVRADJKeUNokbxM0JE9JLUHN3J6gQ4ta1xCFwiOOkOgk9UuH1HouOw5m6dqlebsL+PSC/2j+UdqCmM8GnXOmoXV5Tfk1XupLZD+7qDq9WfEC/U38v5leqiRu0=
notifications:
  email: false
